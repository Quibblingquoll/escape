<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>Escape the Classroom — Phaser</title>
  <style>
    :root{--bg:#0f172a;--ink:#e5e7eb;--panel:#111827;--accent:#38bdf8}
    html,body{height:100%}
    body{margin:0;display:grid;place-items:center;
         background:radial-gradient(900px 600px at 70% -10%,#1f2937 0%,var(--bg) 60%);
         color:var(--ink);font-family:system-ui,Segoe UI,Roboto,Ubuntu,Cantarell,Noto Sans,sans-serif}
    .wrap{width:960px;max-width:calc(100vw - 24px)}
    .top{display:flex;align-items:center;justify-content:space-between;margin:16px 0}
    .hud{display:flex;gap:10px}
    .tag{padding:6px 10px;border-radius:999px;background:rgba(255,255,255,.06);
         box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);font-weight:600}
    canvas{border-radius:16px;box-shadow:0 12px 28px rgba(0,0,0,.5), inset 0 0 0 1px rgba(255,255,255,.06)}
    .btn{border:0;padding:10px 14px;border-radius:12px;background:var(--panel);color:var(--ink);cursor:pointer;font-weight:700}
    .btn:hover{filter:brightness(1.05)}
    .help{opacity:.85;font-size:14px;margin:10px 2px 18px}
    .kbd{padding:2px 6px;border-radius:6px;background:#111827;box-shadow:inset 0 0 0 1px rgba(255,255,255,.08);font-weight:700}
  </style>
</head>
<body>
  <div class="wrap">
    <div class="top">
      <div class="title"><strong>Escape the Classroom — Phaser</strong></div>
      <div class="hud">
        <div class="tag" id="keysTag">Keys: 0 / 3</div>
        <div class="tag" id="timeTag">Time: 0.0s</div>
        <button class="btn" id="resetBtn">Reset</button>
      </div>
    </div>

    <!-- Phaser v3 -->
    <script src="https://cdn.jsdelivr.net/npm/phaser@3/dist/phaser.min.js"></script>
    <canvas id="game" width="960" height="540"></canvas>
    <script type="module" src="./src/main.js"></script>

    <div class="help">
      Controls: <span class="kbd">←</span>/<span class="kbd">→</span> or <span class="kbd">A</span>/<span class="kbd">D</span> to move,
      <span class="kbd">Space</span>/<span class="kbd">W</span>/<span class="kbd">↑</span> to jump.
      Collect all keys then enter the door.
    </div>
  </div>

  <script>
    // HUD bindings
    const keysTag = document.getElementById('keysTag');
    const timeTag = document.getElementById('timeTag');
    document.getElementById('resetBtn').addEventListener('click', () => window.__RESET__ && window.__RESET__());
    window.__HUD__ = {
      setKeys: (got,total)=> keysTag.textContent = `Keys: ${got} / ${total}`,
      setTime: (t)=> timeTag.textContent = `Time: ${t.toFixed(1)}s`
    };
  </script>
</body>
</html>
